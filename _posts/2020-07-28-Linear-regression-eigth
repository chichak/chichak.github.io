<em>Residuals</em>

<div><p>Below is the scatterplot with the linear regression line that we generated on the last screen with <code>ggplot2</code>. Titles have been added for clarity. In this example, we see that a linear model is a reasonable choice to explain the relationship between <code>distance</code> and <code>cost</code>. How does this compare to the trend line you imagined? </p>
<p></p><center><img alt="Uber linear model" src="https://dq-content.s3.amazonaws.com/454/uber_lm.png"></center><p></p>
<p>Recall that intercept refers to the value on the y-axis where <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-302-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.241ex" height="2.074ex" viewBox="0 -779.8 2687.1 892.9" role="img" focusable="false" style="vertical-align: -0.263ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-58" x="0" y="0"></use><use xlink:href="#MJMAIN-3D" x="1130" y="0"></use><use xlink:href="#MJMAIN-30" x="2186" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-302">X = 0</script>. Slope is the rate of change in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-303-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.945ex" viewBox="0 -779.8 763.5 837.3" role="img" focusable="false" style="vertical-align: -0.134ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-59" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Y</mi></math></span></span><script type="math/tex" id="MathJax-Element-303">Y</script> for every single unit change in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-304-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.074ex" viewBox="0 -779.8 852.5 892.9" role="img" focusable="false" style="vertical-align: -0.263ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-58" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-304">X</script>. In this example, the intercept is estimated at 5.85. In other words, if we call an Uber but don't go anywhere with the driver (a distance of 0 miles), we can expect to pay about <span>$</span>5.85. A word of caution here that a trip distance of 0 falls outside the range of our observed data. In general we should refrain from using model coefficients to describe values outside of the observed range.</p>
<p>The slope is estimated at 1.55, meaning that we can expect our Uber trip cost to increase by about <span>$</span>1.55 for every mile we travel. We have an estimate for these two coefficients that we can share with you here, because we performed a linear regression of <code>cost</code> onto <code>distance</code>.   </p>
<p>To build a linear model from our <code>uber_trips</code> dataset, we input the dataset into the linear modeling algorithm in R. The program "trains" itself against the 50 sets of inputs to make predictions about <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-305-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.945ex" viewBox="0 -779.8 763.5 837.3" role="img" focusable="false" style="vertical-align: -0.134ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-59" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Y</mi></math></span></span><script type="math/tex" id="MathJax-Element-305">Y</script> for every input of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-306-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.074ex" viewBox="0 -779.8 852.5 892.9" role="img" focusable="false" style="vertical-align: -0.263ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-58" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-306">X</script>. Our model produced an output (prediction) for every input. We can check the predicted outputs against the actual values we observed for <code>cost</code>. The predicted values represent our model's best estimate of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-307-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.945ex" viewBox="0 -779.8 763.5 837.3" role="img" focusable="false" style="vertical-align: -0.134ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-59" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Y</mi></math></span></span><script type="math/tex" id="MathJax-Element-307">Y</script> using <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-308-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.074ex" viewBox="0 -779.8 852.5 892.9" role="img" focusable="false" style="vertical-align: -0.263ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-58" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-308">X</script>. The difference between the observed value and the modelâ€™s prediction is called a <em>residual</em>. We can visualize the residuals like this: </p>
<p></p><center><img alt="Residuals" src="https://dq-content.s3.amazonaws.com/454/residuals.png"></center> <p></p>
<p>In the scatterplot above, the residuals are represented by the blue lines that connect the observations to the fit line. These blue lines represent the distance on the y-axis that the observed value differs from the predicted value. We can calculate the residual for every point in our dataset and use these values to assess the accuracy of our model. If our model does a good job of predicting trip cost for every trip distance traveled, then our residuals will be relatively small. On the other hand, if our model does not predict trip cost well, then our model is a poor estimator and the residuals will be relatively large. </p>
<p>It can be useful to visualize the residuals to see where our model poorly performs or does well. For example, looking at the plot above, we see that our model generally underestimates the true cost of Uber trips that are one mile or less. </p>
<p>But visualizing the residuals does not allow us to quanitify the quality of the fit. We need to use a summary measure to quantify the extent to which the predicted trip cost matches the true trip cost for a given car trip. Fortunately, statisticians have developed various summary measurements that can take the residuals from our model and transform them into a single value that represents the predictive ability of our model. We will work in-depth with a few of these methods later in the course, but for now, let's focus on the simplest regression error metric: Mean absolute error (MAE).</p></div>
