<script src='https://cdnjs.cloudflare.com/ajax/libs/"
               "mathjax/2.7.3/latest.js?config=default'></script>
<em>Comparing Model Predictions to Reality</em>

<div><p>The mean absolute error (MAE) measures the average amount that the observed outputs vary from the predicted outputs. Using our Uber trip example, MAE represents the average amount of money that our outputs for <code>cost</code> varied from the prediction. To estimate MAE, we begin by calculating the <a target="_blank" href="https://en.wikipedia.org/wiki/Absolute_value">absolute value</a> for each residual in our dataset. We use the absolute value of the residuals here. An absolute value is often used in mathematics to represent distances and, as we've learned, the residual is the distance between the observed and the fitted values. We care only about the magnitude of the residual, and not whether it is positive or negative. Next, we calculate the average of all of the residuals. This value is the MAE. The MAE essentially describes the typical magnitude of the residuals. The equation for MAE looks like this:</p>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-309-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mtext>&amp;#xA0;</mtext><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>&amp;#x2212;</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><mi>y</mi><mo stretchy=&quot;false&quot;>&amp;#x005E;</mo></mover></mrow><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.765ex" height="3.235ex" viewBox="0 -946.4 11093.4 1392.9" role="img" focusable="false" style="vertical-align: -1.037ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-4D" x="0" y="0"></use><use xlink:href="#MJMATHI-41" x="1051" y="0"></use><use xlink:href="#MJMATHI-45" x="1802" y="0"></use><use xlink:href="#MJMAIN-3D" x="2844" y="0"></use><g transform="translate(3622,0)"><g transform="translate(397,0)"><rect stroke="none" width="544" height="60" x="0" y="220"></rect><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="134" y="586"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="84" y="-488"></use></g></g><g transform="translate(5101,0)"><use xlink:href="#MJSZ1-2211" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="1494" y="675"></use><g transform="translate(1056,-287)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="#MJMAIN-7C" x="7573" y="0"></use><g transform="translate(7852,0)"><use xlink:href="#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="#MJMAIN-2212" x="8909" y="0"></use><g transform="translate(9909,0)"><use xlink:href="#MJMATHI-79" x="1" y="0"></use><use xlink:href="#MJMAIN-5E" x="60" y="-3"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="792" y="-342"></use></g><use xlink:href="#MJMAIN-7C" x="10814" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mtext>&nbsp;</mtext><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">^</mo></mover></mrow><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-309">MAE = \frac{1}{n}\  \sum_{i = 1}^{n}|y_i - \hat{y}_i|</script></p>
<p>where:</p>
<ul>
<li>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-310-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>y</mi><mi>i</mi></msub></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.939ex" height="1.816ex" viewBox="0 -502 834.8 781.8" role="img" focusable="false" style="vertical-align: -0.65ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="693" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>y</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-310">y_i</script> = observed output value</p>
</li>
<li>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-311-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>&amp;#x005E;</mo></mover></mrow></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.939ex" height="2.461ex" viewBox="0 -779.8 834.8 1059.6" role="img" focusable="false" style="vertical-align: -0.65ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="693" y="-213"></use><use xlink:href="#MJMAIN-5E" x="167" y="-3"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mover><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">^</mo></mover></mrow></math></span></span><script type="math/tex" id="MathJax-Element-311">\hat{y_i}</script> = predicted output value</p>
</li>
<li>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-312-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></munderover></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.354ex" height="2.977ex" viewBox="0 -890.9 2305.2 1281.8" role="img" focusable="false" style="vertical-align: -0.908ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJSZ1-2211" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="1494" y="675"></use><g transform="translate(1056,-287)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></munderover></math></span></span><script type="math/tex" id="MathJax-Element-312">\sum_{i = 1}^{n}</script> = the sum of... </p>
</li>
<li>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-313-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>&amp;#x2212;</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mover><mi>y</mi><mo stretchy=&quot;false&quot;>&amp;#x005E;</mo></mover></mrow><mi>i</mi></msub></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.528ex" height="2.719ex" viewBox="0 -835.3 3241.2 1170.7" role="img" focusable="false" style="vertical-align: -0.779ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-7C" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="#MJMAIN-2212" x="1335" y="0"></use><g transform="translate(2336,0)"><use xlink:href="#MJMATHI-79" x="1" y="0"></use><use xlink:href="#MJMAIN-5E" x="60" y="-3"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="792" y="-342"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">^</mo></mover></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-313">|y_i - \hat{y}_i</script>| = the absolute value of each residual</p>
</li>
<li>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-314-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mfrac><mn>1</mn><mi>n</mi></mfrac><mtext>&amp;#xA0;</mtext></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.403ex" height="3.235ex" viewBox="0 -946.4 1034.6 1392.9" role="img" focusable="false" style="vertical-align: -1.037ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect stroke="none" width="544" height="60" x="0" y="220"></rect><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="134" y="586"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="84" y="-488"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mi>n</mi></mfrac><mtext>&nbsp;</mtext></math></span></span><script type="math/tex" id="MathJax-Element-314">\frac{1}{n}\</script> = divide the above by the total number of observations (to return the average value)</p>
</li>
</ul>
<p>It's okay if the equation looks intimidating. Let's break down how to compute MAE in R:</p>
<ol>
<li>
<p>Perform a linear regression</p>
<ul>
<li>We'll show you how to do this soon - we promise!</li>
</ul>
</li>
<li>
<p>Calculate the absolute value of the residuals</p>
<ul>
<li>In R, we do this by calling the <a target="_blank" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/MathFun.html"><code>abs()</code> function</a> on the variable that contains the residuals for our model.</li>
<li>Residuals are available as a standard output of a linear regression model in R, so we don't have to calculate the difference between the observed and predicted values.</li>
</ul>
</li>
<li>
<p>Sum the residuals</p>
</li>
<li>
<p>Divide the sum by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-315-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" style="font-size: 100%; display: inline-block; position: relative;" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.429ex" viewBox="0 -502 600.5 615.1" role="img" focusable="false" style="vertical-align: -0.263ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-315">n</script>, the number of data points</p>
</li>
</ol>
<p>Notice that summing the residuals and dividing the sum by the number of data points is calculating the average. This can be achieved in R with the <a target="_blank" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/mean.html"><code>mean()</code> function</a>. So, assuming we have performed a linear regression on our data, we calculate MAE in R as follows:</p>
</div>

<em>Instructions</em>

<div id="body" class="MissionLearn__instructions MissionMarkup__light"><p>Let's practice what we've learned about calculating the MAE. We have performed a linear regression of <code>cost</code> onto <code>distance</code> for you and have provided the predictions as the <code>predictions</code> variable and the residuals as the <code>residuals</code> variable in the file titled <code>uber_trips_lm.csv</code>. The required packages were loaded during previous exercises.</p>
<ol>
<li>Load the <code>uber_trips_lm.csv</code> into R and assign this dataframe the name <code>uber_trips_lm</code>.</li>
<li>Calculate the mean absolute error and save the result to <code>MAE</code>.</li>
<li>Evaluate the following statement and assign the best answer <code>TRUE</code> or <code>FALSE</code> to the variable <code>MAE_question</code>: Based on the MAE result we calculated, we can say roughly that, <code>cost</code> predicted by <code>distance</code> is inaccurate by about $0.72, on average. </li>
</ol>
<p>You do not need to use the <code>predictions</code> variable to complete this exercise, but we have provided it for you if you would like to go through the MAE equation above step-by-step.</p></div>
